.tile {
  --width: var(--tile-size);
}

.tile .creature {
  fill: var(--creature);
  pointer-events: none;
}

[role='cell'].can-drop .tile:not(.selected),
[role='cell'].no-drop .tile:not(.selected) {
  opacity: 100%;
  pointer-events: none;
}

.tile[draggable='false'] {
  opacity: 30%;
}

.tile.selected {
  animation: selected 0.2s infinite;
  transform: rotate(-3deg);
}

.tile.selected:before,
[draggable='true']:not(.selected):hover:before,
[draggable='true']:not(.selected):focus:before {
  box-shadow: 0 -.9em 1em .4em var(--shadow), 0 .9em 1em .4em var(--shadow), 0 0 1em var(--shadow);
  content: ' ';
  display: block;
  height: 50%;
  left: 0;
  margin: 25% 5%;
  outline: none;
  position: absolute;
  top: 0;
  transition: box-shadow 0.2s ease-in;
  width: 90%;
  z-index: -1;
}

.tile.selected:before {
  --shadow: var(--outline);
}

[draggable='true']:not(.selected):hover:before,
[draggable='true']:not(.selected):focus:before {
  --shadow: var(--focus);
}

.beforeDrag:before {
  box-shadow: none !important;
  display: none !important;
}

[role='cell'] .tile {
  margin: 0;
}

[role='cell'] .tile:not([draggable='true']) {
  pointer-events: none;
}

@keyframes selected {
  0% {
    transform: rotate(-1deg);
  }
  50% {
    transform: rotate(1deg);
  }
}

@media only screen and (max-width: 720px) {

  .tile.selected:before,
  [draggable='true']:not(.selected):hover:before,
  [draggable='true']:not(.selected):focus:before {
    box-shadow: 0 -7px 1em 5px var(--shadow), 0 7px 1em 5px var(--shadow);
  }
}